# MySQL

## 索引

### 使用索引的优缺点

+ 优点
  + 大大缩短查询的时间
+ 缺点
  + 创建和维护索引需要时间
  + 索引需要空间去存

InnoDB引擎采用B+树来实现

### B+树优点

+ B+树的磁盘读写代价更低
+ B+树的数据信息遍历更加方便
+ B+树的查询效率更加稳定



## Undo日志

## Redo日志

## 隔离级别与MVCC

### 默认级别

可重复读

### 隔离级别表格

| 隔离级别         | 脏读   | 不可重复读 | 幻读   |
| ---------------- | ------ | ---------- | ------ |
| READ UNCOMMITTED | 可能   | 可能       | 可能   |
| READ COMMITTED   | 不可能 | 可能       | 可能   |
| REPEATABLE READ  | 不可能 | 不可能     | 可能   |
| SERIALIZABLE     | 不可能 | 不可能     | 不可能 |

### ReadView

readview用来实现读已提交和可重复读

两个区别是通过生成readview的时机来区分的。

读已提交每次读都会重新生成ReadView

可重复读在第一次读的时候生成ReadView