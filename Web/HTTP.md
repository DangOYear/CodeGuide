# HTTP

## HTTP

URI包含URL和URN

统一资源标识符
统一资源定位符
统一资源名称

### HTTP状态码

服务器返回的 响应报文 中第一行为状态行，包含了状态码以及原因短语，用来告知客户端请求的结果。

| 状态码 | 类别          | 含义                 |
| ------ | ------------- | -------------------- |
| 1XX    | Informational | （信息性状态码）     |
| 2XX    | Success       | （成功状态码）       |
| 3XX    | Redirection   | （重定向状态码）     |
| 4XX    | Client Error  | （客户端错误状态码） |
| 5XX    | Server Error  | （服务器错误状态码） |

## HTTPS

### HTTP存在以下问题

+ 使用明文进行通信，内容可能会被窃听；

+ 不验证通信方的身份，通信方的身份有可能遭遇伪装；

+ 无法证明报文的完整性，报文有可能遭篡改。

HTTPS 并不是新协议，而是让 HTTP 先和 SSL（Secure Sockets Layer）通信，再由 SSL 和 TCP 通信，也就是说 
HTTPS 使用了隧道进行通信。

通过使用 SSL，HTTPS 具有了加密（防窃听）、认证（防伪装）和完整性保护（防篡改）。

根据OSI7层模型，SSL应该属于会话层。

### HTTPS流程

HTTPS 需要使用一套 CA 数字证书，证书内会附带一个公钥 Pub，而与之对应的私钥 Private 保留在服务端不公开。

服务端收到请求，返回配置好的包含公钥 Pub 的证书给客户端。

客户端收到证书，校验合法性，主要包括是否在有效期内、证书的域名与请求的域名是否匹配，上一级证书是否有效（递归判断，直到判断到系统内置或浏览器配置好的根证书），如果不通过，则显示 HTTPS 警告信息，如果通过则继续。

客户端生成一个用于对称加密的随机 Key，并用证书内的公钥 Pub 进行加密，发送给服务端。

服务端收到随机 Key 的密文，使用与公钥 Pub 配对的私钥 Private 进行解密，得到客户端真正想发送的随机 Key。

服务端使用客户端发送过来的随机 Key 对要传输的 HTTP 数据进行对称加密，将密文返回客户端。

客户端使用随机 Key 对称解密密文，得到 HTTP 数据明文。

后续 HTTPS 请求使用之前交换好的随机 Key 进行对称加解密。

### HTTPS与HTTP区别

+ HTTP使用80端口，HTTPS使用443端口

+ 存在加密解密过程，速度会比HTTP稍慢

## HTTP2



